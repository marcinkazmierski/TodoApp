{% extends "FOSUserBundle::layout.html.twig" %}

{% block stylesheets %}
    <link href="{{ asset('bundles/mkapp/assets/css/login.css') }}" rel="stylesheet"/>
{% endblock %}

{% block body_classes_names %}login-page{% endblock %}

{% block fos_user_content %}

    {% if not form.vars.valid %}
        <div class="form-error">
            {% autoescape false %}
                {% if form_errors(form.username) %}
                    <div class="alert alert-danger" role="alert">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        <span class="sr-only">Error:</span>
                        {{ form_errors(form.username)|striptags|trans }}
                    </div>
                {% endif %}
                {% if form_errors(form.email) %}
                    <div class="alert alert-danger" role="alert">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        <span class="sr-only">Error:</span>
                        {{ form_errors(form.email)|striptags|trans }}
                    </div>
                {% endif %}
                {% if form_errors(form.plainPassword.first) %}
                    <div class="alert alert-danger" role="alert">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        <span class="sr-only">Error:</span>
                        {{ form_errors(form.plainPassword.first)|striptags|trans }}
                    </div>
                {% endif %}
                {% if form_errors(form.plainPassword.second) %}
                    <div class="alert alert-danger" role="alert">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        <span class="sr-only">Error:</span>
                        {{ form_errors(form.plainPassword.second)|striptags|trans }}
                    </div>
                {% endif %}
                {% if form_errors(form) %}
                    <div class="alert alert-danger" role="alert">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        <span class="sr-only">Error:</span>
                        {{ form_errors(form)|striptags|trans }}
                    </div>
                {% endif %}
            {% endautoescape %}
        </div>
    {% endif %}

    {{ form_start(form, {'method': 'POST', 'attr':{'class': 'register form-signin'}}) }}

    <div class="logo-login-wrapper">
        <img src="{{ asset('bundles/mkapp/assets/img/logo.png') }}" class="img-responsive" alt="Cinque Terre">
    </div>

    <h2 class="form-signin-heading">
        Registration
    </h2>

    {{ form_label(form.username, null, {'label_attr': {'class': 'sr-only'}}) }}
    {{ form_widget(form.username, {   'attr': {'class': 'form-control first', 'placeholder':'form.username'|trans} }) }}

    {{ form_label(form.email, null, {'label_attr': {'class': 'sr-only'}}) }}
    {{ form_widget(form.email, {   'attr': {'class': 'form-control center', 'placeholder':'form.email'|trans} }) }}

    {{ form_label(form.plainPassword.first, null, {'label_attr': {'class': 'sr-only'}}) }}
    {{ form_widget(form.plainPassword.first, {   'attr': {'class': 'form-control center', 'placeholder':'form.password'|trans} }) }}

    {{ form_label(form.plainPassword.second, null, {'label_attr': {'class': 'sr-only'}}) }}
    {{ form_widget(form.plainPassword.second, {   'attr': {'class': 'form-control last', 'placeholder':'form.password_confirmation'|trans} }) }}

    <button name="action" class="btn btn-lg btn-primary btn-block" type="submit">
        {{ 'registration.submit'|trans }}
    </button>

    {{ form_end(form) }}


{% endblock fos_user_content %}
